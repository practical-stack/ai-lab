# Workflow: Generate Spec Template

Based on the diagnosis, generate the appropriate spec template(s).

## Step 1: Determine Output Type

| Diagnosis Type | Action |
|----------------|--------|
| Single component | Generate one template |
| Combination pattern | Generate templates for all components |

### For Combinations

Refer to [combination-patterns.md](../references/combination-patterns.md) and generate templates in order:

1. **Command** (if user trigger needed)
2. **Agent** (if multi-step planning needed)
3. **Skills** (for each domain expertise needed)

## Step 2: Select Template(s)

| Component | Template |
|-----------|----------|
| âš¡ COMMAND | [templates/command.yaml](../references/templates/command.yaml) |
| ğŸ“š SKILL | [templates/skill.yaml](../references/templates/skill.yaml) |
| ğŸ¤– AGENT | [templates/agent.yaml](../references/templates/agent.yaml) |

## Step 3: Fill Template(s)

Using the analysis from [analyze.md](./analyze.md), fill in:

### For Command
- `name`: kebab-case command name
- `description`: one-line purpose
- `parameters`: required/optional inputs
- `workflow.steps`: procedure steps
- `errors`: possible failure modes
- `safety`: guardrails

### For Skill
- `name`: Domain.SkillName format
- `description`: USE WHEN / DO NOT USE WHEN
- `triggers`: keywords and patterns
- `structure`: file layout
- `workflows`: procedure definitions

### For Agent
- `name`: descriptive agent name
- `goal`: top-level purpose
- `capabilities`: tools and skills available
- `workflow`: planning steps
- `autonomy`: level (L1-L5)
- `guardrails`: safety constraints

## Step 4: Output Format

### Single Component Output

```yaml
# ============================================
# [COMPONENT TYPE] SPECIFICATION
# ============================================
# Generated by ComponentArchitect
# Platform: Claude Code / OpenCode / Cursor
# ============================================

[Filled template content]
```

### Combination Output

For combinations, output an architecture overview followed by individual specs:

```markdown
# Feature: [Feature Name]

## Architecture Overview

```
âš¡ COMMAND: /command-name (Entry Point)
    â†“
ğŸ¤– AGENT: agent-name (Orchestration)
    â†“
ğŸ“š SKILL: skill-1 (Domain 1)
ğŸ“š SKILL: skill-2 (Domain 2)
```

## Component Specifications

### 1. Command: /command-name

[Command spec template]

### 2. Agent: agent-name

[Agent spec template]

### 3. Skill: skill-1

[Skill spec template]

### 4. Skill: skill-2

[Skill spec template]
```

## Step 5: Provide Implementation Hints

After the spec, add:

```markdown
## êµ¬í˜„ íŒíŠ¸

### íŒŒì¼ ìœ„ì¹˜
- [Platform-specific file path]

### ë‹¤ìŒ ë‹¨ê³„
1. [First implementation step]
2. [Second step]
3. [Testing recommendation]

### ì£¼ì˜ì‚¬í•­
- [Important consideration 1]
- [Important consideration 2]
```

## Done

Spec generation complete. Return the filled template(s) to the calling command for orchestration.
