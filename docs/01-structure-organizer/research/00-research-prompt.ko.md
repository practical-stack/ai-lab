---
title: "연구 프롬프트: Command/Skill/Agent 설계"
description: "Command, Skill, Agent 컴포넌트를 정확히 구분하고 설계하기 위한 AI 아키텍트용 메타 프롬프트."
type: reference
tags: [AI, Architecture]
order: 0
related: [./00-research-prompt.md]
---

# Meta Prompt: Command · Skills · Agents 설계/운영을 위한 정확한 이해 & 설계 가이드 요청

너는 "AI 에이전트 시스템 설계자(Agent Architect)"다.
내 목표는 command, skills, agents를 **정확히 구분**하고, **서로 연관지어** 제품/팀 워크플로우에서 의도에 맞게 만들고 운영하는 것이다.
추측으로 얼버무리지 말고, 용어가 환경마다 다를 수 있음을 전제한 뒤 **내 환경에 맞춘 정의/경계/설계 원칙/운영 방식**을 도출해줘.

---

## 0) 내 환경/전제 (채워 넣기)

- 사용 환경/플랫폼: [예: Cursor / Claude Code / OpenAI Assistants / LangChain / 사내 프레임워크 / 기타]
- 실행 주체:
  - 사람(개발자) → [예/아니오]
  - LLM 에이전트(자동 실행) → [예/아니오]
- 툴 호출 방식: [예: function calling / MCP / CLI / HTTP API / 내부 SDK]
- 문서/지식 저장소: [예: docs/ md, Notion, Google Drive, Confluence]
- 목표 워크플로우 예시(3~5개):
  1. [예: “신규 앱 생성 스캐폴딩 + CI 설정”]
  2. [예: “버그 리포트 → 재현 → 원인 분석 → PR 생성”]
  3. [예: “문서 검색/요약 → 결론 → 실행 계획 생성”]
- 제약:
  - 보안/권한: [예: prod 접근 금지, secret 취급 규칙]
  - 정확성: [예: hallucination 최소화, 출처 필수]
  - 실행 안정성: [예: idempotent, dry-run 우선]
  - 비용/속도: [예: 호출 제한, 캐시 필요]

---

## 1) 먼저 “용어 정합성”부터 맞춰라 (필수)

너의 첫 출력은 아래 질문에 답하는 형태여야 한다:

1. 내가 말하는 command/skills/agents가 **어떤 생태계/관례**에서 쓰이는 개념인지 후보를 2~3개 제시하고,
2. 그중 내 환경과 가장 잘 맞는 정의 세트를 선택한 뒤,
3. 선택 이유와 경계(무엇이 포함/제외되는지)를 명확히 적어라.

⚠️ 금지: “대충 이런 느낌” 같은 모호한 설명.

---

## 2) 내가 원하는 산출물(반드시 이 순서로)

### A. 개념 정의 & 경계 (정확한 분리)

- Command 정의: (목적, 트리거, 입력/출력, 상태/부작용, 실패 방식)
- Skill 정의: (재사용 단위로서의 역할, 범위, 안정성/검증 포인트)
- Agent 정의: (오케스트레이션, 메모리/상태, 계획/추론, 툴 선택, 평가/루프)
- 서로 헷갈리는 케이스 10개를 “경계 테스트”로 만들어라.
  - 예: “커맨드가 내부적으로 여러 스킬을 호출하는 건 OK인가?”
  - 예: “스킬이 LLM을 포함하면 에이전트인가?”

### B. 관계 모델 (연관 구조)

다음 3가지 관점으로 연결 구조를 제안해라:

1. 계층: Agent → (Workflow/Plan) → Command → Skills → Tools
2. 계약(Contract): 각 레이어의 I/O 스키마, 실패/재시도/타임아웃 정책
3. 운영(Ops): 버전닝, 테스트, 관측(로그/트레이스), 롤백

각 관점에서 “왜 이 구조가 좋은지/언제 깨지는지”도 적어라.

### C. “언제 무엇을 만들지” 결정 규칙 (결정 트리 + 체크리스트)

- 아래 질문에 예/아니오로 답하면 Command vs Skill vs Agent가 결정되는
  “결정 트리(Flowchart 텍스트)”를 만들어라.
- 체크리스트:
  - 재사용성(다른 워크플로우에서 쓰나?)
  - 부작용(쓰기/삭제/배포/결제 등)
  - 사람이 직접 트리거하나?
  - 안정적 deterministic 결과가 필요한가?
  - 멀티스텝 계획/분기/리트라이가 필요한가?
  - 권한/보안 경계가 있는가?
  - 실행 비용이 큰가?

### D. 설계 템플릿(바로 쓰는 스펙 폼)

아래 3개 스펙 템플릿을 **실무적으로** 만들어라(각각 1~2페이지 수준):

1. Command Spec Template
2. Skill Spec Template
3. Agent Spec Template

각 템플릿에는 최소한 다음이 포함돼야 한다:

- 목적 / 비목적
- 입력 스키마(예시 포함)
- 출력 스키마(예시 포함)
- 실패 모드 & 에러 표준
- 안전장치(권한, dry-run, confirmation, rate limit)
- 테스트 전략(유닛/통합/시뮬레이션)
- 관측(로그 필드, trace id, metrics)
- 버전/호환성 정책

### E. 예시 설계(내 워크플로우에 적용)

내가 위에서 적은 워크플로우 예시 중 2개를 골라,

- 어떤 부분을 Command로,
- 어떤 부분을 Skill로,
- 어떤 부분을 Agent로 설계하는지
  구체적으로 나눠서 보여줘.
  각각에 대해:
- 파일/폴더 구조 예시
- naming convention
- 최소 구현(의사코드 수준)
- 운영 시나리오(성공/실패/롤백)

### F. 안티패턴 & 가드레일

- 흔한 실패/혼용 패턴 12개와 그 징후
- 이를 막는 조직/리포지토리 룰(리뷰 체크리스트 포함)
- “스킬 스파게티”, “커맨드 남발”, “에이전트 만능주의” 방지책

---

## 3) 출력 포맷 요구사항

- Markdown으로 작성
- 섹션 제목은 A~F 그대로 유지
- 표가 필요하면 “짧고” 핵심만
- 모호한 부분은 “내 환경에서 확인해야 할 질문 목록”으로 분리
- 마지막에 “다음 액션(1주 플랜)”을 7개 항목으로 제안

---

## 4) 추가 조건(중요)

- 가능한 한 **추론 과정**이 아니라 **결과와 근거**를 분리해서 써라:
  - “원칙/근거”
  - “적용 규칙”
  - “예시”
- 용어가 프레임워크마다 다르면 반드시 “대안 용어 매핑 표”를 제공해라.
- 내가 입력한 전제가 부족하면, 질문을 5개 이내로 최소화해서 물어라.
